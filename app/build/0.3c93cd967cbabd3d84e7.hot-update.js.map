{"version":3,"file":"0.3c93cd967cbabd3d84e7.hot-update.js","sources":["webpack:///src/components/header/Header.js","webpack:///src/components/search/Results__my.js","webpack:///external \"babel-runtime/core-js/object/keys\""],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as Styled from \"./styled/Header.js\";\n/* redux */\nimport { connect } from \"react-redux\";\nimport * as actions from \"data/actions\";\n\nclass Header extends React.Component {\n\trender() {\n\t\tconst RightIcons = [];\n\t\tif (Object.keys(this.props.items_my).length) {\n\t\t\tRightIcons.push(\n\t\t\t\t<Link to=\"/my\">\n\t\t\t\t\t<span className=\"caption\">\n\t\t\t\t\t\t<span className=\"ext only-wide\">MY </span>JOBS\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"icon-user-check\" />\n\t\t\t\t</Link>\n\t\t\t);\n\t\t}\n\t\t// RightIcons.push(\n\t\t// \t<Link to=\"/about\">\n\t\t// \t\t<span className=\"caption\">Etc</span>\n\t\t// \t\t<span className=\"icon-delete\" />\n\t\t// \t</Link>\n\t\t// );\n\t\treturn (\n\t\t\t<Styled.Header className=\"row\">\n\t\t\t\t<div className=\"row_left\">\n\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t<span className=\"icon-top-logo\" />\n\t\t\t\t\t\t<span className=\"caption\">\n\t\t\t\t\t\t\t<span>JOBS</span>\n\t\t\t\t\t\t\t<span className=\"ext only-wide\">.US</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t{/* <div className=\"row_center only-fullsize\">\n\t\t\t\t\t<span className=\"caption\">if (relevant &amp;&amp; unique &amp;&amp; posted > (Date.now()-1000*60*60*60*24*14)) &#123;</span>\n\t\t\t\t</div> */}\n\t\t\t\t{/* <div className=\"row_center\">\n\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t<span className=\"caption\">Search</span>\n\t\t\t\t\t\t<span className=\"icon-top-select\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</div> */}\n\t\t\t\t{/* <div className=\"row_right\">\n\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t<span className=\"caption\">SAVE </span>\n\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"row_right\">{RightIcons}</div>\n\t\t\t</Styled.Header>\n\t\t);\n\t}\n}\n\n/*\n\t\tConnect redux data\n\t*/\nconst mapStateToProps = (data, ownProps) => {\n\treturn {\n\t\titems_my: data.my.items\n\t};\n};\nconst ConnectedHeader = connect(mapStateToProps)(Header);\n\n/*\n\t\tComponents\n\t*/\nexport default ConnectedHeader;\n\n\n\n// WEBPACK FOOTER //\n// src/components/header/Header.js","import React, { Component } from \"react\";\nimport * as Styled from \"./styled/Results.js\";\nimport { withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n/* redux */\nimport { connect } from \"react-redux\";\nimport * as actions from \"data/actions\";\n/* components */\nimport SearchQuery from \"components/search/Query\";\nimport SearchLinks from \"components/search/Links\";\nimport SearchFilters from \"components/search/Filters\";\n/*\n\tlib\n*/\nconst sort_items_object_to_array = (items_object, filters_array) => {\n\t/*\n\t\tfilter the filters (needs refactor!)\n\t*/\n\tconst filters = filters_array.map(filter => {\n\t\tfilter.value = filter.value.replace(/ \\| /g, \"|\");\n\t\tfilter.value = filter.value.replace(/\\?/g, \"\\\\?\");\n\t\tfilter.value = filter.value.replace(/\\+/g, \"\\\\+\");\n\t\tfilter.value = filter.value.replace(/\\]\\\\\\+/g, \"]+\");\n\t\tfilter.value = filter.value.replace(/\\*/g, \"\\\\*\");\n\t\tfilter.value = filter.value.replace(/\\$/g, \"\\\\$\");\n\t\treturn filter;\n\t});\n\t/*\n\t\titerate items\n\t*/\n\tconst items = [];\n\tfor (let i in items_object) {\n\t\tlet item = items_object[i];\n\t\tif (typeof item !== \"object\") {\n\t\t\tcontinue;\n\t\t}\n\t\titem._status = item._status || \"new\";\n\t\titem._rating = 1000;\n\t\t// use filters\n\t\tfor (let fil in filters) {\n\t\t\tconst filter = filters[fil];\n\t\t\tif (filter.multiplier) {\n\t\t\t\tvar reg = RegExp(\"\" + filter.value + \"\", \"i\");\n\t\t\t\tvar match = reg.test(\" \" + item.location + \" \" + item.company + \" \" + item.name + \" \" + item.text + \" \");\n\t\t\t\tif (match) {\n\t\t\t\t\titem._rating += filter.multiplier;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// except\n\t\t// if (item._status === this.props.items_status) {\n\t\tif (!filters.length || item._rating >= 1000 + filters.length) {\n\t\t\titems.push(item);\n\t\t}\n\t\t// }\n\t}\n\t// items.sort(function(a, b) {\n\t// \treturn b.posted > a.posted;\n\t// });\n\titems.sort(function(a, b) {\n\t\treturn b._rating > a._rating;\n\t});\n\treturn items;\n};\n/* \n\tcomponent \n*/\nclass Results extends Component {\n\tstate = {};\n\t/*\n\t\tview\n\t*/\n\trender() {\n\t\tvar area_key = this.props.area_key;\n\t\tvar items_array = sort_items_object_to_array(this.props.items, this.props.filters);\n\t\tvar results_length = /*Object.keys(this.props.items).length -*/ items_array.length;\n\t\t// make Array\n\t\tvar Items = [];\n\t\tif (items_array.length) {\n\t\t\tvar i = 0;\n\t\t\t// limit items on page - soon add pagination or auto-loading on scroll\n\t\t\twhile (i < 100) {\n\t\t\t\t// item = current item\n\t\t\t\tconst item = items_array[i];\n\t\t\t\tif (typeof item !== \"object\") {\n\t\t\t\t\ti++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// item.rating\n\t\t\t\tconst rating = item._rating - 1000;\n\t\t\t\tlet Rating = null;\n\t\t\t\tif (rating > 0) {\n\t\t\t\t\tRating = (\n\t\t\t\t\t\t<b className=\"rating plus\">\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t{rating}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (rating < 0) {\n\t\t\t\t\tRating = (\n\t\t\t\t\t\t<b className=\"rating minus\">\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t{rating}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// add to view\n\t\t\t\tItems.push(\n\t\t\t\t\t<div key={item._id + i} className={\"item status--\" + item._status}>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<a href={item.link} target=\"_blank\">\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</b>{\" \"}\n\t\t\t\t\t\t- {item.text} &nbsp;\n\t\t\t\t\t\t<div className=\"meta\">\n\t\t\t\t\t\t\t<div className=\"rating\">\n\t\t\t\t\t\t\t\t#{i} - {item._status}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"rating\">{Rating}</div>\n\t\t\t\t\t\t\t<div className=\"location\">\n\t\t\t\t\t\t\t\t<a href={\"https://www.google.com/maps/place/\" + item.location + \"\"} target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<span className=\"icon-navigation\" /> {item.location}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"company\">\n\t\t\t\t\t\t\t\t<a href={\"https://google.com/search?q=\" + item.company + \" company glassdoor\"} target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{item.company}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pills\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill status--applied\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t// NOT immutable: immediately assigns to existing, rendered item - handle all immutability in Redux actions\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.my_item_save(Object.assign({}, item, { _status: \"applied\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-check\" /> <span className=\"text\">applied</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill status--intrigued\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t// NOT immutable: immediately assigns to existing, rendered item - handle all immutability in Redux actions\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.my_item_save(Object.assign({}, item, { _status: \"intrigued\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" /> <span className=\"text\">intrigued</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill status--ignored\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t// NOT immutable: immediately assigns to existing, rendered item - handle all immutability in Redux actions\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.my_item_save(Object.assign({}, item, { _status: \"ignored\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-delete\" /> <span className=\"text\">ignored</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\ti++;\n\t\t\t}\n\t\t} else {\n\t\t\tItems.push(\n\t\t\t\t<div>\n\t\t\t\t\t<p>No results :(</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<Link to=\"/\">Go back to homepage</Link>, and click some buttons!\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>But, this functionality needs a lot of work! Please do check back in a week. Should be working then.</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Styled.Results className={\"Items \" + (this.props.className || \"\")}>\n\t\t\t\t<div className=\"queries\">\n\t\t\t\t\t<h1>Saved results page coming soon...</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"content\">{Items}</div>\n\t\t\t</Styled.Results>\n\t\t);\n\t}\n}\n\n/*\n\tConnect redux data\n*/\nconst mapStateToProps = (data, ownProps) => {\n\tconst filters = data.my.filters || [];\n\tconst items = Object.assign({}, ownProps.items, data.my.items);\n\treturn {\n\t\titems,\n\t\titems_status: ownProps.items_status || \"new\",\n\t\tfilters\n\t};\n};\nconst ConnectedResults = connect(mapStateToProps)(withRouter(Results));\n\n/*\n\tComponents\n*/\nexport default ConnectedResults;\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/Results__my.js","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = babel-runtime/core-js/object/keys\n// module chunks = "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAFA;AADA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzBA;AA4BA;;;;AAhDA;AACA;AAkDA;;;;;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA;;;;;;;;;;;;;;AACA;;;;;;AACA;;;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AADA;AAIA;AALA;AAMA;AANA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAnBA;AAfA;AAPA;AAsDA;AArFA;AACA;AAEA;AAAA;AACA;AADA;AAmFA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;;;;AArHA;AACA;AAuHA;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;;;AAGA;;;;;;;AC5MA;;;;A","sourceRoot":""}