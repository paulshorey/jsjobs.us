{"version":3,"file":"0.888065a6528c38fcddea.hot-update.js","sources":["webpack:///src/components/search/Results.js"],"sourcesContent":["/*jshint esversion: 6 */\nimport React, { Component } from \"react\";\nimport \"isomorphic-unfetch\";\nimport * as Styled from \"./styled/Results.js\";\nimport { getAPIHostname } from \"lib/getAPI\";\nimport Query from \"./Query.js\";\n/* redux */\nimport { connect } from \"react-redux\";\nimport * as actions from \"data/actions\";\n\n/* \n\tComponent \n*/\nclass Results extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tjobs: []\n\t\t};\n\t}\n\tasync componentWillMount() {\n\t\tconst res = await fetch(getAPIHostname() + `/api/v1/jobs?text=&start=0&limit=10000`);\n\t\tconst json = await res.json();\n\t\tthis.props.dispatch_jobsAdd(json.data || []);\n\t}\n\n\tfilterJobs(jobs) {\n\t\tjobs = jobs.map(function(item) {\n\t\t\titem.status = item.status || \"new\";\n\t\t\treturn item;\n\t\t});\n\t\treturn jobs;\n\t}\n\trender() {\n\t\tvar jobs = this.props.jobs;\n\t\tjobs = this.filterJobs(jobs);\n\t\t// get on with it...\n\t\tvar Jobs = [];\n\t\tif (jobs) {\n\t\t\tjobs.forEach(function(job, i) {\n\t\t\t\tJobs.push(\n\t\t\t\t\t<div key={job._id}>\n\t\t\t\t\t\t<div>{job.text}</div>\n\t\t\t\t\t\t<sup>{job.location}</sup>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<Styled.Results>\n\t\t\t\t<h2>Query:</h2>\n\t\t\t\t<Query />\n\t\t\t\t<h2> </h2>\n\n\t\t\t\t<h2>Results: {jobs.length}</h2>\n\t\t\t\t<div>{Jobs}</div>\n\t\t\t</Styled.Results>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state, ownProps) => ({\n\tjobs: state.jobs.length ? state.jobs : ownProps.jobs\n});\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tdispatch_jobsAdd: jobs => {\n\t\tdispatch(actions.jobsAdd(jobs));\n\t}\n});\nconst ConnectedResults = connect(mapStateToProps, mapDispatchToProps)(Results);\n\n/*\n\tComponents\n*/\nexport default ConnectedResults;\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/Results.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;;;;;;;;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AASA;;;;AA7CA;AACA;AA8CA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAKA;AACA;AACA;;;AAGA;;;;A","sourceRoot":""}