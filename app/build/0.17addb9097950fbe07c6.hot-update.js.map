{"version":3,"file":"0.17addb9097950fbe07c6.hot-update.js","sources":["webpack:///src/components/search/Results.js","webpack:///src/data/actions/index.js","webpack:///src/data/reducers/areas.js","webpack:///src/data/reducers/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport * as Styled from \"./styled/Results.js\";\nimport { withRouter } from \"react-router\";\n/* redux */\nimport { connect } from \"react-redux\";\nimport * as actions from \"data/actions\";\n/* components */\nimport SearchQuery from \"components/search/Query\";\nimport SearchLinks from \"components/search/Links\";\nimport SearchFilters from \"components/search/Filters\";\n/* \n\tcomponent \n*/\nclass Results extends Component {\n\tstate = {};\n\trateItems = newItems => {\n\t\t/*\n\t\t\tfilter the filters (needs refactor?)\n\t\t*/\n\t\tconst filters = this.props.area.filters.map(filter => {\n\t\t\tfilter.value = filter.value.replace(/ \\| /g, \"|\");\n\t\t\tfilter.value = filter.value.replace(/\\?/g, \"\\\\?\");\n\t\t\tfilter.value = filter.value.replace(/\\+/g, \"\\\\+\");\n\t\t\tfilter.value = filter.value.replace(/\\]\\\\\\+/g, \"]+\");\n\t\t\tfilter.value = filter.value.replace(/\\*/g, \"\\\\*\");\n\t\t\tfilter.value = filter.value.replace(/\\$/g, \"\\\\$\");\n\t\t\treturn filter;\n\t\t});\n\t\t/*\n\t\t\titerate items\n\t\t*/\n\t\tconst items = [];\n\t\tnewItems.map(item => {\n\t\t\titem._status = item._status || \"new\";\n\t\t\titem._rating = 1000;\n\t\t\t// use filters\n\t\t\tfor (let fil in filters) {\n\t\t\t\tconst filter = filters[fil];\n\t\t\t\tif (filter.multiplier) {\n\t\t\t\t\tvar reg = RegExp(\"\" + filter.value + \"\", \"i\");\n\t\t\t\t\tvar match = reg.test(\" \" + item.location + \" \" + item.company + \" \" + item.name + \" \" + item.text + \" \");\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\titem._rating += filter.multiplier;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!filters.length || item._rating >= 1000 + filters.length) {\n\t\t\t\titems.push(item);\n\t\t\t}\n\t\t});\n\t\titems.sort(function(a, b) {\n\t\t\treturn b._rating - a._rating;\n\t\t});\n\t\treturn items;\n\t};\n\t/*\n\t\tview\n\t*/\n\trender() {\n\t\tvar area_key = this.props.area_key;\n\t\tvar rated_items = this.rateItems(this.props.area.items);\n\t\t// make Array\n\t\tvar Items = [];\n\t\tif (rated_items) {\n\t\t\tvar i = 0;\n\t\t\t// limit items on page - soon add pagination or auto-loading on scroll\n\t\t\twhile (i < 100) {\n\t\t\t\t// item = current item\n\t\t\t\tvar item = rated_items[i];\n\t\t\t\tif (typeof item !== \"object\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// item.rating\n\t\t\t\tconst rating = item._rating - 1000;\n\t\t\t\tlet Rating = null;\n\t\t\t\tif (rating > 0) {\n\t\t\t\t\tRating = (\n\t\t\t\t\t\t<b className=\"rating plus\">\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t{rating}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (rating < 0) {\n\t\t\t\t\tRating = (\n\t\t\t\t\t\t<b className=\"rating minus\">\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t{rating}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// add to view\n\t\t\t\tItems.push(\n\t\t\t\t\t<div key={item._id + i} className={\"item \" + (i === 0 ? \" first\" : \"\")}>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<a href={item.link} target=\"_blank\">\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</b>{\" \"}\n\t\t\t\t\t\t- {item.text} &nbsp;\n\t\t\t\t\t\t<div className=\"meta\">\n\t\t\t\t\t\t\t<span className=\"rating\">{Rating}</span>\n\t\t\t\t\t\t\t<span className=\"location\">\n\t\t\t\t\t\t\t\t<a href={\"https://www.google.com/maps/place/\" + item.location + \"\"} target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<span className=\"icon-navigation\" /> {item.location}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"company\">\n\t\t\t\t\t\t\t\t<a href={\"https://google.com/search?q=\" + item.company + \" company glassdoor\"} target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{item.company}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"pills\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.area_item_add(Object.assign({}, item, { status: \"applied\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-check\" /> <span className=\"text\">applied</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.area_item_add(Object.assign(item, { status: \"intrigued\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" /> <span className=\"text\">intrigued</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"pill\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.dispatch(actions.area_item_add(Object.assign(item, { status: \"ignored\" }), this.props.area_key));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"icon-delete\" /> <span className=\"text\">ignored</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Styled.Results className={\"Items \" + (this.props.className || \"\")}>\n\t\t\t\t<div className=\"queries\">\n\t\t\t\t\t<SearchLinks area_key={this.props.area_key} />\n\t\t\t\t\t<SearchQuery area_key={this.props.area_key} expanded={this.state.searchQueryExpanded} placeholder={(this.props.area.filters.length ? \"Filter\" : \"Search\") + \" \" + rated_items.length + \" \" + (this.props.area.filters.length ? \"results\" : \"jobs\") + \"...\"} />\n\t\t\t\t\t<SearchFilters area_key={this.props.area_key} />\n\t\t\t\t\t<div className=\"moreOptions\" ref=\"moreOptions\">\n\t\t\t\t\t\t<div className=\"moreOptions_content\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tTip: use RegEx in search term. For example: <br />\"<b>[^a-zA-Z]+C[^a-zA-Z]+</b>\" or \"<b>java[^s]+ | JSP</b>\"\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>Then, choose a +/- thumbs up/down value, to weigh its importance.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"moreOptions_link\"\n\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\tthis.refs.moreOptions.classList.toggle(\"active\");\n\t\t\t\t\t\t\t\tthis.setState({ searchQueryExpanded: !this.state.searchQueryExpanded });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t...\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"content\">{Items}</div>\n\t\t\t</Styled.Results>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (data, ownProps) => {\n\tconst areaItems = data.areas[ownProps.area_key].items.length ? data.areas[ownProps.area_key].items : [];\n\tconst areaFilters = data.areas[ownProps.area_key].filters.length ? data.areas[ownProps.area_key].filters : [];\n\treturn {\n\t\tarea: {\n\t\t\titems: ownProps.items,\n\t\t\tfilters: areaFilters\n\t\t}\n\t};\n};\nconst ConnectedResults = connect(mapStateToProps)(withRouter(Results));\n\n/*\n\tComponents\n*/\nexport default ConnectedResults;\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/Results.js","export const area_item_add = (item, area_key) => ({\n\ttype: \"area_item_add\",\n\titem,\n\tarea_key\n});\nexport const area_filter_add = (filter, area_key) => ({\n\ttype: \"area_filter_add\",\n\tfilter,\n\tarea_key\n});\nexport const area_filter_remove = (filter, area_key) => ({\n\ttype: \"area_filter_remove\",\n\tfilter,\n\tarea_key\n});\n\n\n\n// WEBPACK FOOTER //\n// src/data/actions/index.js","const initialState = {\n\tus: { route: \"/\", key: \"us\", label: \"Select region...\", filters: [], items: [] },\n\tla: { route: \"/in/la\", key: \"la\", label: \"in LA (Southern California)\", filters: [], items: [] },\n\tnyc: { route: \"/in/nyc\", key: \"nyc\", label: \"in NYC (New York City)\", filters: [], items: [] },\n\tdenver: { route: \"/in/denver\", key: \"denver\", label: \"in Denver (Northern Colorado)\", filters: [], items: [] }\n};\nconst areas = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase \"area_item_add\":\n\t\t\tstate[action.area_key].items.push(action.item);\n\t\t\treturn Object.assign({}, state);\n\t\tcase \"area_filter_add\":\n\t\t\t// requires: action.area_key, action.items\n\t\t\tlet _id = \"\";\n\t\t\tfor (const prop in action.filter) {\n\t\t\t\t_id += action.filter[prop];\n\t\t\t}\n\t\t\taction.filter._id = _id;\n\t\t\tstate[action.area_key].filters.push(action.filter);\n\t\t\treturn Object.assign({}, state);\n\t\t\tbreak;\n\t\tcase \"area_filter_remove\":\n\t\t\t// requires: action.area_key, action.items\n\t\t\tlet f_index = state[action.area_key].filters.findIndex(function(filter) {\n\t\t\t\treturn filter._id === action.filter._id;\n\t\t\t});\n\t\t\tstate[action.area_key].filters.splice(f_index, 1);\n\t\t\treturn Object.assign({}, state);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn state;\n\t\t\tbreak;\n\t}\n};\n\nexport default areas;\n\n\n\n// WEBPACK FOOTER //\n// src/data/reducers/areas.js","import { combineReducers } from \"redux\";\nimport areas from \"./areas\";\n\nconst data = combineReducers({\n\tareas\n});\n\nexport default data;\n\n\n\n// WEBPACK FOOTER //\n// src/data/reducers/index.js"],"mappings":"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","sourceRoot":""}