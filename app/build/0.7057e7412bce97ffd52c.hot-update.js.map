{"version":3,"file":"0.7057e7412bce97ffd52c.hot-update.js","sources":["webpack:///src/components/search/Query.js"],"sourcesContent":["import React from \"react\";\nimport * as Styled from \"./styled/Query.js\";\n/* redux */\nimport { connect } from \"react-redux\";\nimport * as actions from \"data/actions\";\n\n// this will be useful to \"reset\" the setState\nconst constructInitialState = function() {\n\treturn {\n\t\tqInput_value: \"\",\n\t\tqInput_multiplier: 1\n\t};\n};\n\n/* \n\tComponent \n*/\nclass Query extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = constructInitialState();\n\t}\n\tcomponentDidMount() {\n\t\t// slight UX addition:\n\t\tsetTimeout(() => {\n\t\t\tthis.refs.qInput.focus();\n\t\t}, 300);\n\t}\n\tinputValueChange = e => {\n\t\tconst value = e.target.value;\n\t\t// set value:\n\t\tthis.setState({ qInput_value: value });\n\t};\n\tmultiplierClick = multiplier => {\n\t\t// set value:\n\t\tthis.setState({ qInput_multiplier: multiplier });\n\t\t// on \"closing\", second click, submit value\n\t\tif (this.query_group.classList.contains(\"active\") && this.refs.qInput.value) {\n\t\t\tthis.inputValueSubmit(multiplier); // pass multiplier, because setState is Async, and doesnt change fast enough\n\t\t}\n\t\t// on \"opening\", initial click, open the dropdown\n\t\tthis.query_group.classList.toggle(\"active\");\n\t};\n\tinputValueSubmit = multiplier => {\n\t\t// change it in multiplierClick, then call this to finalize, or just call this on its own, to send current value\n\t\tthis.props.dispatch(actions.area_filter_add({ value: this.refs.qInput.value, multiplier: multiplier || this.state.qInput_multiplier, property: this.props.queryProperty }, this.props.area_key));\n\t\tthis.setState(constructInitialState(this.props));\n\t};\n\trender() {\n\t\t// value + multiplier\n\t\tconst multiplier = this.state.qInput_multiplier;\n\t\tlet placeholder = this.props.placeholder || \"Search description...\";\n\t\treturn (\n\t\t\t<Styled.Query\n\t\t\t\tclassName={\"query_group \" + (this.state.qInput_value || this.props.expanded ? \" expanded \" : \"\")}\n\t\t\t\tinnerRef={el => {\n\t\t\t\t\tthis.query_group = el;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tclassName={\"query_input \" + (this.props.isLoading ? \" isLoading\" : \"\")}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tref=\"qInput\"\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tthis.inputValueChange(e);\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={this.state.qInput_value}\n\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\tif ((e.charCode || e.keyCode) === 13) {\n\t\t\t\t\t\t\tthis.inputValueSubmit();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className={\"query_select selected_\" + (multiplier > 0 ? \"positive\" : \"negative\")}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"overlay\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.query_group.classList.remove(\"active\");\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"dropdown\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"green \" + (multiplier === 10 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(10);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t<span>10</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"green \" + (multiplier === 3 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(3);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t<span>3</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"green \" + (multiplier === 2 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(2);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t<span>2</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"green \" + (multiplier === 1 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(1);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-up\" />\n\t\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"red \" + (multiplier === -1 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(-1);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t<span>-1</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"red \" + (multiplier === -2 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(-2);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t<span>-2</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"red \" + (multiplier === -3 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(-3);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t<span>-3</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\"red \" + (multiplier === -10 ? \"selected\" : \"\")}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.multiplierClick(-10);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"icon-ui-thumbs-down\" />\n\t\t\t\t\t\t\t<span>-10</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"icon\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.inputValueSubmit();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"icon-top-add\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Styled.Query>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state, ownProps) => {\n\treturn {};\n};\nconst ConnectedQuery = connect(mapStateToProps)(Query);\n\n/*\n\tComponents\n*/\nexport default ConnectedQuery;\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/Query.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;AAGA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AAWA;AACA;AACA;AACA;AACA;AAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AA0BA;AACA;AACA;AACA;AACA;AA5BA;AAFA;AAGA;AACA;;;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAqBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAhEA;AA0EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AANA;AAjFA;AApBA;AAgHA;;;;AApJA;AACA;AAqJA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;A","sourceRoot":""}